<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer List</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../styles/admin/customer-listing.css">

</head>
<body>
    <%- include('../partials/admin/sidebar') %>
    <div class="container-fluid">
        <!-- Header -->
        <div class="header">
            <div class="container-fluid px-3">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h2 class="mb-0 text-dark">Customer List</h2>
                    </div>
                    <div class="col-md-6 text-end">
                        <span class="text-muted">Admin</span>
                    </div>
                </div>
                
                <!-- Search Section -->
                <div class="row mt-3">
                    <div class="col-md-8 offset-md-2">
                        <div class="search-container mx-auto">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Search by name, email, or mobile..." id="searchInput">
                                <button class="btn btn-search" type="button" onclick="searchCustomers()">
                                    <i class="fas fa-search me-1"></i>Search
                                </button>
                                <button class="btn btn-clear" type="button" onclick="clearSearch()">
                                    <i class="fas fa-times me-1"></i>Clear
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Table Container -->
        <div class="container-fluid px-3">
            <div class="table-container">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>NAME</th>
                                <th>EMAIL</th>
                                <th>MOBILE</th>
                                <th>JOINING DATE</th>
                                <th>STATUS</th>
                                <th>BLOCK/UNBLOCK</th>
                                <th>INFO</th>
                            </tr>
                        </thead>
                        <tbody id="customerTableBody">
                            <tr>
                                <td>prasanth</td>
                                <td>prasanth@gmail.com</td>
                                <td>1651165116</td>
                                <td>9 May 2025, 10:10 am</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>rony</td>
                                <td>rony@gmail.com</td>
                                <td>1656546516</td>
                                <td>9 May 2025, 10:08 am</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>abhi</td>
                                <td>abhi@email.com</td>
                                <td>1234789544</td>
                                <td>2 May 2025, 11:52 am</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>gokul</td>
                                <td>gokul@gmail.com</td>
                                <td>1234578966</td>
                                <td>2 May 2025, 11:48 am</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>sanjay</td>
                                <td>sanjaycdv.23@gmail.com</td>
                                <td>6516544465</td>
                                <td>25 Apr 2025, 3:25 pm</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>sreenivas</td>
                                <td>sreenivas@gmail.com</td>
                                <td>1651651561</td>
                                <td>24 Apr 2025, 1:56 pm</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>azeem</td>
                                <td>azeem@gmail.com</td>
                                <td>2165165161</td>
                                <td>24 Apr 2025, 1:54 pm</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>abhijth</td>
                                <td>abhijth@gmail.com</td>
                                <td>1658446515</td>
                                <td>24 Apr 2025, 1:53 pm</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>ismail</td>
                                <td>ismail@gmail.com</td>
                                <td>4534546546</td>
                                <td>24 Apr 2025, 1:52 pm</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                            <tr>
                                <td>sanjay</td>
                                <td>sanjay@gmail.com</td>
                                <td>4513165654</td>
                                <td>24 Apr 2025, 1:49 pm</td>
                                <td><span class="status-active">Active</span></td>
                                <td>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </td>
                                <td>
                                    <button class="btn btn-info-custom btn-sm">Info</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Pagination -->
            <nav aria-label="Customer list pagination">
                <ul class="pagination">
                    <li class="page-item active">
                        <a class="page-link" href="#" onclick="changePage(1)">1</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#" onclick="changePage(2)">2</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#" onclick="changePage('next')">Next</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script>
        // Search functionality
        function searchCustomers() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const tableRows = document.querySelectorAll('#customerTableBody tr');
            
            tableRows.forEach(row => {
                const name = row.cells[0].textContent.toLowerCase();
                const email = row.cells[1].textContent.toLowerCase();
                const mobile = row.cells[2].textContent.toLowerCase();
                
                if (name.includes(searchTerm) || email.includes(searchTerm) || mobile.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // Clear search
        function clearSearch() {
            document.getElementById('searchInput').value = '';
            const tableRows = document.querySelectorAll('#customerTableBody tr');
            tableRows.forEach(row => {
                row.style.display = '';
            });
        }

        // Enter key search
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchCustomers();
            }
        });

        // Pagination functionality
        function changePage(page) {
            const pageItems = document.querySelectorAll('.page-item');
            pageItems.forEach(item => item.classList.remove('active'));
            
            if (page === 'next') {
                // Logic for next page
                console.log('Next page clicked');
            } else {
                // Activate clicked page
                event.target.parentElement.classList.add('active');
                console.log('Page ' + page + ' clicked');
            }
        }

        // Toggle switch functionality
        document.addEventListener('DOMContentLoaded', function() {
            const toggles = document.querySelectorAll('.toggle-switch input');
            toggles.forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const row = this.closest('tr');
                    const statusCell = row.querySelector('td:nth-child(5) span');
                    
                    if (this.checked) {
                        statusCell.textContent = 'Active';
                        statusCell.className = 'status-active';
                    } else {
                        statusCell.textContent = 'Blocked';
                        statusCell.className = 'status-blocked';
                    }
                });
            });
        });

    </script>
</body>
</html>